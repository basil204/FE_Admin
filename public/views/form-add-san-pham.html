<div ng-controller="ProductController">
  <div>
    <main class="app-content">
      <div class="app-title">
        <ul class="app-breadcrumb breadcrumb">
          <li class="breadcrumb-item">Danh sách sản phẩm</li>
          <li class="breadcrumb-item"><a href="#">Thêm sản phẩm</a></li>
        </ul>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="tile">
            <h3 class="tile-title">Tạo mới sản phẩm</h3>
            <div class="tile-body">
              <div class="row element-button">
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addThuongHieu"
                    ><i class="fas fa-folder-plus"></i> Thêm thương hiệu</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addViSua"
                    ><i class="fas fa-folder-plus"></i> Thêm vị sữa</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addLoaiSua"
                    ><i class="fas fa-folder-plus"></i> Thêm loaị sữa</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addLoaiDongGoi"
                    ><i class="fas fa-folder-plus"></i> Thêm loại đóng gói</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addLoaiNguoiDung"
                    ><i class="fas fa-folder-plus"></i> Thêm loại người dùng</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addDonViDongGoi"
                    ><i class="fas fa-folder-plus"></i> Thêm đơn vị đóng gói</a
                  >
                </div>
                <div class="col-sm-2">
                  <a
                    class="btn btn-add btn-sm"
                    data-toggle="modal"
                    data-target="#addVoucher"
                    ><i class="fas fa-folder-plus"></i> Thêm Voucher</a
                  >
                </div>
              </div>
              <form class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label">Tên sản phẩm</label>
                    <input
                      class="form-control"
                      type="text"
                      ng-model="formData.productname"
                      required
                    />
                  </div>

                  <div class="form-group">
                    <label for="brandSelect" class="control-label"
                      >Thương Hiệu</label
                    >
                    <select
                      class="form-control"
                      id="brandSelect"
                      ng-model="formData.milkBrand"
                    >
                      <option ng-repeat="brand in brands" ng-value="brand.id">
                        {{brand.milkbrandname}}
                      </option>
                    </select>
                  </div>
                </div>

                <!-- Cột 2: Loại sữa và Đối tượng sử dụng -->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="typeSelect" class="control-label"
                      >Loại sữa</label
                    >
                    <select
                      class="form-control"
                      id="typeSelect"
                      ng-model="formData.milkType"
                    >
                      <option ng-repeat="type in types" ng-value="type.id">
                        {{type.milkTypename}}
                      </option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="targetSelect" class="control-label"
                      >Đối tượng sử dụng</label
                    >
                    <select
                      class="form-control"
                      id="targetSelect"
                      ng-model="formData.targetUser"
                    >
                      <option
                        ng-repeat="targetuser in targets"
                        ng-value="targetuser.id"
                      >
                        {{targetuser.targetuser}}
                      </option>
                    </select>
                  </div>
                </div>

                <!-- Cột 3: Ảnh sản phẩm -->
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label">Ảnh sản phẩm</label>
                    <div class="custom-file">
                      <input
                        type="file"
                        class="custom-file-input"
                        id="imageUpload"
                        accept=".jpg, .jpeg, .png, .webp"
                        ng-model="file"
                        onchange="angular.element(this).scope().uploadImage(this.files)"
                      />
                      <label class="custom-file-label" for="imageUpload"
                        >Chọn ảnh...</label
                      >
                    </div>
                  </div>
                  <input type="hidden" ng-model="formData.imgUrl" />

                  <!-- Hiển thị ảnh nếu có -->
                  <div ng-if="formData.imgUrl" class="mt-3">
                    <label class="control-label"
                      >Ảnh sản phẩm đã tải lên:</label
                    >
                    <img
                      ng-src="{{ formData.imgUrl }}"
                      alt="Product Image"
                      class="img-thumbnail"
                      style="max-width: 100px; max-height: 100px"
                    />
                  </div>
                </div>
                <!-- <div class="col-md-12 mt-3">
                  <div class="form-group">
                    <label for="editor" class="control-label"
                      >Mô tả sản phẩm</label
                    >
                    <textarea
                      id="editor"
                      class="form-control"
                      name="content"
                    ></textarea>
                  </div>
                </div> -->
                <!-- Nút lưu sản phẩm -->
                <div class="col-md-12 text-center mt-4">
                  <button ng-click="saveProduct()" class="btn btn-success mx-2">
                    {{ formData.id ? 'Cập nhật sản phẩm' : 'Thêm sản phẩm' }}
                  </button>
                  <button ng-click="resetForm()" class="btn btn-secondary mx-2">
                    Reset Form
                  </button>
                </div>

                <!-- Textarea with Bootstrap styling -->
              </form>
              <div class="row mb-2">
                <div class="col-md-6">
                  <label for="productname">Tìm kiếm theo productname:</label>
                  <input
                    type="text"
                    ng-model="filters.productname"
                    class="form-control"
                    placeholder="Tìm kiếm theo productname:"
                    ng-change="searchProduct()"
                  />
                </div>
                <div class="col-md-2">
                  <label for="productname">Lọc hãng:</label>
                  <select
                    class="form-control"
                    ng-change="searchProduct()"
                    ng-model="filters.milkBrand"
                    ng-options="brand.id as brand.milkbrandname for brand in brands"
                  >
                    <option value="">Lọc hãng</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="productname">Lọc độ tuổi:</label>
                  <select
                    class="form-control"
                    ng-change="searchProduct()"
                    ng-model="filters.targetUser"
                    ng-options="user.id as user.targetuser for user in targets"
                  >
                    <option value="">Lọc độ tuổi</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <label for="productname">Lọc loại:</label>
                  <select
                    class="form-control"
                    ng-change="searchProduct()"
                    ng-model="filters.milkType"
                    ng-options="type.id as type.milkTypename for type in types"
                  >
                    <option value="">Lọc loại</option>
                  </select>
                </div>
              </div>
              <div class="form-group col-12">
                <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item">
                    <a
                      class="nav-link active"
                      data-toggle="tab"
                      href="#activeProduct"
                      role="tab"
                      >Danh sách sản phẩm</a
                    >
                  </li>
                </ul>

                <div class="tab-content">
                  <!-- Active Usage Capacities Tab -->
                  <div
                    class="tab-pane active"
                    id="activeProduct"
                    role="tabpanel"
                  >
                    <div
                      style="
                        max-height: 200px;
                        overflow-y: auto;
                        margin-top: 10px;
                      "
                    >
                      <table class="table table-bordered">
                        <thead>
                          <tr>
                            <th>STT</th>
                            <th>Mã sản phẩm</th>
                            <th>Tên sản phẩm</th>
                            <th>Loại sữa</th>
                            <th>Thương hiệu</th>
                            <th>Đối tượng sử dụng</th>
                            <th>Trang thai</th>
                            <th>Chức năng</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="product in products track by $index ">
                            <td>{{ $index + 1 }}</td>
                            <td>{{ product.productCode }}</td>
                            <td>{{ product.productname }}</td>
                            <td>{{ product.milkType.milkTypename }}</td>
                            <td>{{ product.milkBrand.milkbrandname }}</td>
                            <td>{{ product.targetUser.targetuser }}</td>
                            <td
                              ng-class="{'text-success': product.status === 1, 'text-danger': product.status === 0}"
                            >
                              {{ product.status === 1 ? 'Hoạt động' : 'Không
                              hoạt động' }}
                            </td>
                            <td>
                              <button
                                ng-click="product.status === 1 ? deleteItem(product.id) : deleteItem(product.id)"
                                ng-class="{'btn-danger': product.status === 1, 'btn-success': product.status === 0}"
                                class="btn btn-sm"
                              >
                                {{ product.status === 1 ? 'Xóa' : 'Khôi phục' }}
                              </button>
                              <button
                                ng-click="getItemById(product.id)"
                                class="btn btn-primary btn-sm"
                              >
                                Chỉnh sửa
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div
                      class="pagination-controls d-flex justify-content-center align-items-center my-3"
                    >
                      <button
                        class="btn btn-primary mx-2"
                        ng-click="goToFirstPage()"
                      >
                        First
                      </button>
                      <button
                        class="btn btn-primary mx-2"
                        ng-click="previousPage()"
                      >
                        Previous
                      </button>
                      <span class="mx-2"
                        >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                        }}</span
                      >
                      <button
                        class="btn btn-primary mx-2"
                        ng-click="nextPage()"
                      >
                        Next
                      </button>
                      <button
                        class="btn btn-primary mx-2"
                        ng-click="goToLastPage()"
                      >
                        Last
                      </button>
                    </div>
                  </div>

                  <!-- Deleted Usage Capacities Tab -->
                </div>
              </div>
            </div>
          </div>

          <!--
    MODAL CHỨC VỤ 
    -->
          <!-- Modal for Adding Brand -->
          <div
            ng-controller="BrandController"
            class="modal fade"
            id="addThuongHieu"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Thêm mới thương hiệu</h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <!-- Notification Message -->
                  <div
                    ng-if="notification.message"
                    class="alert"
                    ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                  >
                    {{ notification.message }}
                  </div>

                  <!-- Form Fields -->
                  <div class="form-group">

                    <label class="control-label">Nhập tên thương hiệu để tìm kiếm</label>
                    <div class="input-group">
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formDatas.milkbrandname"
                        placeholder="Nhập tên thương hiệu để tìm kiếm"
                        ng-change="resetFormBrand()"
                        required
                      />
                    
                    </div>
                   
                    <label class="control-label">Nhập tên thương hiệu</label>
                    <div class="input-group">
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.milkbrandname"
                        required
                      />
                    
                    </div>
                    <label class="control-label">Nhập mô tả thương hiệu</label>
                    <input
                      class="form-control"
                      type="text"
                      ng-model="formData.description"
                      required
                    />
                  </div>

                  <!-- Tab Navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeBrands"
                        role="tab"
                        aria-controls="activeBrands"
                        aria-selected="true"
                        >Danh sách thương hiệu</a
                      >
                    </li>
                  </ul>

                  <!-- Tab Panes -->
                  <div class="tab-content">
                    <!-- Active Brands Tab -->
                    <div
                      class="tab-pane fade show active"
                      id="activeBrands"
                      role="tabpanel"
                      aria-labelledby="active-tab"
                    >
                      <div
                        class="table-responsive"
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Tên thương hiệu</th>
                              <th>Mô tả</th>
                              <th>Trạng thái</th>
                              <th>Chức Năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="brand in brands track by $index">
                              <td>{{ $index + 1 }}</td>
                              <td>{{ brand.milkbrandname }}</td>
                              <td>{{ brand.description }}</td>
                              <td
                                ng-class="{'text-success': brand.status === 1, 'text-danger': brand.status === 0}"
                              >
                                {{ brand.status === 1 ? 'Hoạt động' : 'Không
                                hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="brand.status === 1 ? deleteItem(brand.id) : deleteItem(brand.id)"
                                  ng-class="{'btn-danger': brand.status === 1, 'btn-success': brand.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ brand.status === 1 ? 'Xóa' : 'Khôi phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(brand.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="modal-footer">
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem()"
                  >
                    Lưu lại
                  </button>
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <button
                    class="btn btn-secondary"
                    type="button"
                    data-dismiss="modal"
                  >
                    Hủy bỏ
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div
            ng-controller="MilktasteController"
            class="modal fade"
            id="addViSua"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới vị sữa</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Nhập tên vị sữa để tìm kiếm</label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formDatas.milktastename"
                        ng-change="resetFormTastes()"
                        required
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Nhập tên vị sữa</label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.milktastename"
                        required
                      />
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeTastes"
                        role="tab"
                        aria-controls="activeTastes"
                        aria-selected="true"
                        >Danh sách vị sữa</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activeTastes"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Tên vị sữa</th>
                              <th>Trạng thái</th>
                              <th>Chức Năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="taste in milktastes track by $index">
                              <td>{{ $index + 1 }}</td>
                              <td>{{ taste.milktastename }}</td>
                              <td
                                ng-class="{'text-success': taste.status === 1, 'text-danger': taste.status === 0}"
                              >
                                {{ taste.status === 1 ? 'Hoạt động' : 'Không
                                hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="taste.status === 1 ? deleteItem(taste.id) : deleteItem(taste.id)"
                                  ng-class="{'btn-danger': taste.status === 1, 'btn-success': taste.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ taste.status === 1 ? 'Xóa' : 'Khôi phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(taste.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('Milktaste')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>

          <div
            ng-controller="MilktypeController"
            class="modal fade"
            id="addLoaiSua"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới loại sữa</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <div class="form-group col-md-12">
                        <label class="control-label"
                          >Nhập tên loại sữa để tìm kiếm</label
                        >
                        <input
                          class="form-control"
                          type="text"
                          ng-model="formDatas.milkTypename"
                          ng-change="resetFormType()"
                          required
                        />
                      </div>
                      <div class="form-group col-md-12">
                        <label class="control-label"
                          >Nhập tên loại sữa mới</label
                        >
                        <input
                          class="form-control"
                          type="text"
                          ng-model="formData.milkTypename"
                          required
                        />
                      </div>
                      <div class="form-group col-md-12">
                        <label class="control-label">Thêm mô tả loại sữa</label>
                        <input
                          class="form-control"
                          type="text"
                          ng-model="formData.description"
                          required
                        />
                      </div>
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeType"
                        role="tab"
                        aria-controls="activeType"
                        aria-selected="true"
                        >Danh sách loại sữa</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activeType"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Tên loại sữa</th>
                              <th>Mô tả</th>
                              <th>Trạng thái</th>
                              <th>Chức Năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="type in types track by $index">
                              <td>{{ $index +1 }}</td>
                              <td>{{ type.milkTypename }}</td>
                              <td>{{ type.description }}</td>
                              <td
                                ng-class="{'text-success': type.status === 1, 'text-danger': type.status === 0}"
                              >
                                {{ type.status === 1 ? 'Hoạt động' : 'Không hoạt
                                động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="type.status === 1 ? deleteItem(type.id) : deleteItem(type.id)"
                                  ng-class="{'btn-danger': type.status === 1, 'btn-success': type.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ type.status === 1 ? 'Xóa' : 'Khôi phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(type.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('milkType')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>

          <div
            ng-controller="PackagingunitController"
            class="modal fade"
            id="addLoaiDongGoi"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới đóng gói</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label"
                      >Nhập tên loại đóng gói để tìm kiếm</label
                    >
                    <input
                      class="form-control"
                      type="text"
                      ng-model="formDatas.packagingunitname"
                      ng-change="resetFormPacka()"
                      required
                    />
                      <label class="control-label"
                        >Nhập tên loại đóng gói mới</label
                      >
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.packagingunitname"
                        required
                      />
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activePacka"
                        role="tab"
                        aria-controls="activePacka"
                        aria-selected="true"
                        >Danh sách loại đóng gói</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activePacka"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Tên loại đóng gói</th>
                              <th>Trạng thái</th>
                              <th>Chức Năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              ng-repeat="packagingunit in packas track by $index"
                            >
                              <td>{{ $index +1}}</td>
                              <td>{{ packagingunit.packagingunitname }}</td>
                              <td
                                ng-class="{'text-success': packagingunit.status === 1, 'text-danger': packagingunit.status === 0}"
                              >
                                {{ packagingunit.status === 1 ? 'Hoạt động' :
                                'Không hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="packagingunit.status === 1 ? deleteItem(packagingunit.id) : deleteItem(packagingunit.id)"
                                  ng-class="{'btn-danger': packagingunit.status === 1, 'btn-success': packagingunit.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ packagingunit.status === 1 ? 'Xóa' : 'Khôi
                                  phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(packagingunit.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div
                      class="pagination-controls d-flex justify-content-center align-items-center my-3"
                    >
                      <button
                        class="btn btn-primary mx-2"
                        ng-disabled="currentPage === 0"
                        ng-click="goToFirstPage()"
                      >
                        First
                      </button>
                      <button
                        class="btn btn-primary mx-2"
                        ng-disabled="currentPage === 0"
                        ng-click="previousPage()"
                      >
                        Previous
                      </button>
                      <span class="mx-2"
                        >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                        }}</span
                      >
                      <button
                        class="btn btn-primary mx-2"
                        ng-disabled="currentPage === pageInfo.totalPages - 1"
                        ng-click="nextPage()"
                      >
                        Next
                      </button>
                      <button
                        class="btn btn-primary mx-2"
                        ng-disabled="currentPage === pageInfo.totalPages - 1"
                        ng-click="goToLastPage()"
                      >
                        Last
                      </button>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('packagingunit')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>

          <div
            ng-controller="TargetuserController"
            class="modal fade"
            id="addLoaiNguoiDung"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới đối tượng sử dụng</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label"
                      >Nhập tên loại người dùng để tìm kiếm</label
                    >
                    <input
                      class="form-control"
                      type="text"
                      ng-model="formDatas.targetuser"
                      ng-change="resetFormTaget()"
                      required
                    />
                      <label class="control-label"
                        >Nhập tên loại người dùng mới</label
                      >
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.targetuser"
                        required
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Thêm mô tả</label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.description"
                        required
                      />
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeTarget"
                        role="tab"
                        aria-controls="activeTarget"
                        aria-selected="true"
                        >Đối tượng sử dụng</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activeTarget"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Tên loại người dùng</th>
                              <th>Mô tả</th>
                              <th>Trạng thái</th>
                              <th>Chức Năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              ng-repeat="targetuser in targets track by $index"
                            >
                              <td>{{ $index + 1}}</td>
                              <td>{{ targetuser.targetuser }}</td>
                              <td>{{ targetuser.description }}</td>
                              <td
                                ng-class="{'text-success': targetuser.status === 1, 'text-danger': targetuser.status === 0}"
                              >
                                {{ targetuser.status === 1 ? 'Hoạt động' :
                                'Không hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="targetuser.status === 1 ? deleteItem(targetuser.id) : deleteItem(targetuser.id)"
                                  ng-class="{'btn-danger': targetuser.status === 1, 'btn-success': targetuser.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ targetuser.status === 1 ? 'Xóa' : 'Khôi
                                  phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(targetuser.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('packagingunit')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>

          <div
            ng-controller="UsagecapacityController"
            class="modal fade"
            id="addDonViDongGoi"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới đơn vị đóng gói</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label"
                        >Nhập công suất sử dụng để tìm kiếm</label
                      >
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formDatas.capacity"
                        ng-change="resetFormUsage()"
                        required
                      />
                      <label class="control-label"
                      >Nhập công suất sử dụng</label
                    >
                    <input
                      class="form-control"
                      type="text"
                      ng-model="formData.capacity"
                      required
                    />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Thêm đơn vị công suất</label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.unit"
                        required
                      />
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeUsage"
                        role="tab"
                        aria-controls="activeUsage"
                        aria-selected="true"
                        >Đơn vị đóng gói</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activeUsage"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Công suất</th>
                              <th>Đơn vị</th>
                              <th>Trạng thái</th>
                              <th>Chức năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              ng-repeat="usagecapacity in usages track by $index"
                            >
                              <td>{{ $index + 1}}</td>
                              <td>{{ usagecapacity.capacity }}</td>
                              <td>{{ usagecapacity.unit }}</td>
                              <td
                                ng-class="{'text-success': usagecapacity.status === 1, 'text-danger': usagecapacity.status === 0}"
                              >
                                {{ usagecapacity.status === 1 ? 'Hoạt động' :
                                'Không hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="usagecapacity.status === 1 ? deleteItem(usagecapacity.id) : deleteItem(usagecapacity.id)"
                                  ng-class="{'btn-danger': usagecapacity.status === 1, 'btn-success': usagecapacity.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ usagecapacity.status === 1 ? 'Xóa' : 'Khôi
                                  phục' }}
                                </button>
                                <button
                                  ng-click="getItemById(usagecapacity.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === pageInfo.totalPages - 1"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('usagecapacity')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>

          <div
            ng-controller="VoucherController"
            class="modal fade"
            id="addVoucher"
            tabindex="-1"
            role="dialog"
            aria-labelledby="exampleModalCenterTitle"
            data-backdrop="static"
            data-keyboard="false"
          >
            <div
              class="modal-dialog modal-dialog-centered modal-lg"
              role="document"
            >
              <div class="modal-content">
                <div class="modal-body">
                  <div class="row">
                    <div class="form-group col-md-12">
                      <span class="thong-tin-thanh-toan">
                        <h5>Thêm mới voucher</h5>
                      </span>
                    </div>
                    <div
                      ng-if="notification.message"
                      class="form-group col-md-12"
                    >
                      <div
                        class="alert"
                        ng-class="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}"
                      >
                        {{ notification.message }}
                      </div>
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Nhập mã Voucher để tìm kiếm </label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formDatas.vouchercode"
                        ng-change="resetFormVoucher()"
                        required
                       
                      />
                      <label class="control-label">Nhập mã Voucher </label>
                      <input
                        class="form-control"
                        type="text"
                        ng-model="formData.vouchercode"
                        required
                        ng-disabled="formData.id"
                      />

                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Chọn ngày bắt đầu</label>
                      <!-- Sử dụng input type="datetime-local" để chọn cả ngày và giờ -->
                      <input
                        class="form-control"
                        type="datetime-local"
                        ng-model="formData.startdate"
                        ng-value="formData.startdate | date:'yyyy-MM-ddTHH:mm'"
                        required
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Chọn ngày kết thúc</label>
                      <!-- Sử dụng input type="datetime-local" để chọn cả ngày và giờ -->
                      <input
                        class="form-control"
                        type="datetime-local"
                        ng-model="formData.enddate"
                        ng-value="formData.enddate | date:'yyyy-MM-ddTHH:mm'"
                        required
                      />
                    </div>

                    <div class="form-group col-md-12">
                      <label class="control-label">Phần trăm giảm giá</label>
                      <input
                        class="form-control"
                        type="number"
                        ng-model="formData.discountpercentage"
                        ng-init="formData.discountpercentage = formData.discountpercentage || 0"
                        required
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Số tiền tối thiểu</label>
                      <input
                        class="form-control"
                        type="number"
                        ng-model="formData.minamount"
                        ng-init="formData.minamount = formData.minamount || 0"
                        <!--
                        Gán
                        giá
                        trị
                        mặc
                        định
                        là
                        0
                        --
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Số tiền tối đa</label>
                      <input
                        class="form-control"
                        type="number"
                        ng-model="formData.maxamount"
                        ng-init="formData.maxamount = formData.maxamount || 0"
                        <!--
                        Gán
                        giá
                        trị
                        mặc
                        định
                        là
                        0
                        --
                      />
                    </div>
                    <div class="form-group col-md-12">
                      <label class="control-label">Số lần sử dụng</label>
                      <input
                        class="form-control"
                        type="number"
                        ng-model="formData.usagecount"
                        ng-init="formData.usagecount = formData.usagecount || 0"
                        <!--
                        Gán
                        giá
                        trị
                        mặc
                        định
                        là
                        0
                        --
                      />
                    </div>
                  </div>

                  <!-- Tab navigation -->
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item">
                      <a
                        class="nav-link active"
                        id="active-tab"
                        data-toggle="tab"
                        data-target="#activeVoucher"
                        role="tab"
                        aria-controls="activeVoucher"
                        aria-selected="true"
                        >Voucher</a
                      >
                    </li>
                  </ul>

                  <!-- Tab panes -->
                  <div class="tab-content">
                    <!-- Active Tastes Tab -->
                    <div
                      class="tab-pane active"
                      id="activeVoucher"
                      role="tabpanel"
                    >
                      <div
                        style="
                          max-height: 200px;
                          overflow-y: auto;
                          margin-top: 10px;
                        "
                      >
                        <table class="table table-bordered">
                          <thead>
                            <tr>
                              <th>STT</th>
                              <th>Mã code</th>
                              <th>Ngày bắt đầu</th>
                              <th>Ngày kết thúc</th>
                              <th>Phần trăm giảm giá</th>
                              <th>Số tiền tối thiểu để sử dụng</th>
                              <th>Số tiền tối đa khi giảm giá</th>
                              <th>Số ần sử dụng</th>
                              <th>Trạng thái</th>
                              <th>Chức năng</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="voucher in vouchers track by $index">
                              <td>{{ $index + 1 }}</td>
                              <td>{{ voucher.vouchercode }}</td>
                              <td>{{ voucher.startdate }}</td>
                              <td>{{ voucher.enddate }}</td>
                              <td>{{ voucher.discountpercentage }}</td>
                              <td>{{ voucher.minamount }}</td>
                              <td>{{ voucher.maxamount }}</td>
                              <td>{{ voucher.usagecount }}</td>
                              <td
                                ng-class="{'text-success': voucher.status === 1, 'text-danger': voucher.status === 0}"
                              >
                                {{ voucher.status === 1 ? 'Hoạt động' : 'Không
                                hoạt động' }}
                              </td>
                              <td>
                                <button
                                  ng-click="voucher.status === 1 ? deleteItem(voucher.id) : deleteItem(voucher.id)"
                                  ng-class="{'btn-danger': voucher.status === 1, 'btn-success': voucher.status === 0}"
                                  class="btn btn-sm"
                                >
                                  {{ voucher.status === 1 ? 'Xóa' : 'Khôi phục'
                                  }}
                                </button>
                                <button
                                  ng-click="getItemById(voucher.id)"
                                  class="btn btn-primary btn-sm"
                                >
                                  Chỉnh sửa
                                </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div
                        class="pagination-controls d-flex justify-content-center align-items-center my-3"
                      >
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="goToFirstPage()"
                        >
                          First
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-disabled="currentPage === 0"
                          ng-click="previousPage()"
                        >
                          Previous
                        </button>
                        <span class="mx-2"
                          >Page {{ currentPage + 1 }} of {{ pageInfo.totalPages
                          }}</span
                        >
                        <button
                          class="btn btn-primary mx-2"
                          ng-click="nextPage()"
                        >
                          Next
                        </button>
                        <button
                          class="btn btn-primary mx-2"
                          ng-click="goToLastPage()"
                        >
                          Last
                        </button>
                      </div>
                    </div>
                  </div>

                  <br />
                  <button
                    class="btn btn-success"
                    type="button"
                    ng-click="addOrUpdateItem('voucher')"
                  >
                    Lưu lại
                  </button>
                  <a class="btn btn-secondary" data-dismiss="modal" href="#"
                    >Hủy bỏ</a
                  >
                  <button
                    class="btn btn-warning"
                    type="button"
                    ng-click="resetForm()"
                  >
                    Reset Form
                  </button>
                  <br />
                </div>
                <div class="modal-footer"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
